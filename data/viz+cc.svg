<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="2901px" height="3401px" viewBox="-0.5 -0.5 2901 3401" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2020-08-04T09:51:07.850Z&quot; agent=&quot;5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 Safari/537.36&quot; etag=&quot;biP_ior9UC7PEw5hJUjK&quot; version=&quot;13.5.7&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;0n7H_1HJK9VSgtlS8Dda&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><path d="M 949 1270.6 L 949 549" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1109 1109 L 1109 1077.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1109 1070.12 L 1112.5 1077.12 L 1105.5 1077.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 981.01 1149 L 915.37 1149" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 988.01 1149 L 984.51 1151.06 L 981.01 1149 L 984.51 1146.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 910.12 1149 L 917.12 1145.5 L 915.37 1149 L 917.12 1152.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1149px; margin-left: 949px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">(M.R.)</div></div></div></foreignObject><text x="949" y="1152" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">(M.R.)</text></switch></g><path d="M 1236.99 1169 L 1302.63 1169" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1229.99 1169 L 1233.49 1166.94 L 1236.99 1169 L 1233.49 1171.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 1169 L 1300.88 1172.5 L 1302.63 1169 L 1300.88 1165.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="989" y="1109" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1149px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::CompositorFrameSinkImpl<br />负责分发CF</div></div></div></foreignObject><text x="1109" y="1153" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::CompositorFrameSinkImpl...</text></switch></g><path d="M 1469.14 1101.01 L 1469.14 1088.86 L 1429.14 1088.86 L 1429.05 1075.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1469.14 1108.01 L 1467.08 1104.51 L 1469.14 1101.01 L 1471.2 1104.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1429.01 1070.12 L 1432.56 1077.09 L 1429.05 1075.37 L 1425.56 1077.14 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1629 1149 L 1940.88 1149" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1947.88 1149 L 1940.88 1152.5 L 1940.88 1145.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1309" y="1109" width="320" height="80" rx="12" ry="12" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 318px; height: 1px; padding-top: 1149px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::CompositorFrameSinkSupport<br />SubmitCompositorFrame()<br />负责触发client的OnBeginFrame，并且处理接收到的CF。它把CF存入viz::Surface中,最后viz::Display取出Surface进行渲染。创建它的时候它会自行加入BeginFrameSource中</div></div></div></foreignObject><text x="1469" y="1153" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::CompositorFrameSinkSupport...</text></switch></g><rect x="989" y="989" width="240" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1029px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::mojom::CompositorFrameSink<br />SetNeedsBeginFrame()<br />SubmitCompositorFrame(Sync)()<br />DidNotProduceFrame()</div></div></div></foreignObject><text x="1109" y="1033" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::mojom::CompositorFrameSink...</text></switch></g><path d="M 789 69 L 789 382.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 789 387.88 L 785.5 380.88 L 789 382.63 L 792.5 380.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="669" y="29" width="240" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 49px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="white-space: normal">viz::mojom::CompositorFrameSinkClient</span></div></div></div></foreignObject><text x="789" y="53" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::mojom::CompositorFrameSinkClient</text></switch></g><path d="M 1069 69 L 1069 382.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1069 387.88 L 1065.5 380.88 L 1069 382.63 L 1072.5 380.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="949" y="29" width="240" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 49px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::mojom::CompositorFrameSink</div></div></div></foreignObject><text x="1069" y="53" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::mojom::CompositorFrameSink</text></switch></g><rect x="949" y="219" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 229px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SubmitCompositorFrame()</div></div></div></foreignObject><text x="1069" y="233" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SubmitCompositorFrame()</text></switch></g><rect x="669" y="139" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 149px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OnBeginFrame()</div></div></div></foreignObject><text x="789" y="153" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">OnBeginFrame()</text></switch></g><rect x="669" y="299" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 309px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DidReceiveCompositorFrameAck()</div></div></div></foreignObject><text x="789" y="313" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">DidReceiveCompositorFrameAck()</text></switch></g><path d="M 1109 829 L 1109.14 858.86 L 1109.11 860.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1109.02 867.88 L 1105.61 860.83 L 1112.61 860.93 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1236.99 788.97 L 1269.14 788.86 L 1269.14 1148.86 L 1235.37 1148.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1229.99 789 L 1233.48 786.93 L 1236.99 788.97 L 1233.49 791.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1230.12 1149 L 1237.11 1145.47 L 1235.37 1148.98 L 1237.13 1152.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 980.01 788.98 L 938 788.86 L 914.37 788.97" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 987.01 789 L 983.51 791.05 L 980.01 788.98 L 983.52 786.93 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 909.12 788.99 L 916.1 785.46 L 914.37 788.97 L 916.13 792.46 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 790px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">(M.R.)</div></div></div></foreignObject><text x="950" y="794" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">(M.R.)</text></switch></g><path d="M 1236.99 788.97 L 1269.14 788.86 L 1269.14 1028.86 L 1302.63 1028.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1229.99 789 L 1233.48 786.93 L 1236.99 788.97 L 1233.49 791.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 1029 L 1300.87 1032.47 L 1302.63 1028.98 L 1300.89 1025.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1236.99 789 L 1302.63 789" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1229.99 789 L 1233.49 786.94 L 1236.99 789 L 1233.49 791.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 789 L 1300.88 792.5 L 1302.63 789 L 1300.88 785.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1236.99 788.97 L 1269.14 788.86 L 1269.14 908.86 L 1302.63 908.98" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1229.99 789 L 1233.48 786.93 L 1236.99 788.97 L 1233.49 791.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 909 L 1300.87 912.47 L 1302.63 908.98 L 1300.89 905.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="989" y="749" width="240" height="80" rx="12" ry="12" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 789px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::FrameSinkManager(Impl)<br />RegisterBeginFrameSource():注册BFS<br />surface_manager_:viz::SurfaceManager<br />负责建立CFSClient和CFS的连接，它是viz的入口。每一个BFS都对应一个FrameSinkId</div></div></div></foreignObject><text x="1109" y="793" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::FrameSinkManager(Impl)...</text></switch></g><path d="M 1556.99 1029 L 1622.63 1029" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1549.99 1029 L 1553.49 1026.94 L 1556.99 1029 L 1553.49 1031.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1627.88 1029 L 1620.88 1032.5 L 1622.63 1029 L 1620.88 1025.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1309" y="989" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1029px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::SurfaceManager<br />CreateSurface()<br />SurfaceActivated/Modified()<br />将CF存储到Surface中并通知observer进行渲染</div></div></div></foreignObject><text x="1429" y="1033" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::SurfaceManager...</text></switch></g><path d="M 1549 669 L 1622.63 669" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1627.88 669 L 1620.88 672.5 L 1622.63 669 L 1620.88 665.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1309" y="629" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 669px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::OutputSurfaceProvider(Impl)<br />CreateOutputSurface()</div></div></div></foreignObject><text x="1429" y="673" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::OutputSurfaceProvider(Impl)...</text></switch></g><rect x="1629" y="629" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 669px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::OutputSurface<br />SwapBuffers()<br />负责将画面最终显示到界面中；提供用于显示合成后的画面的buffers，有三类buffer：Software/OpenGL/Vulkan</div></div></div></foreignObject><text x="1749" y="673" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::OutputSurface...</text></switch></g><path d="M 1949 649 L 1908.86 648.86 L 1908.86 668.86 L 1877.12 668.97" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1870.12 669 L 1877.11 665.47 L 1877.13 672.47 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2069 581.01 L 2069 555.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2069 588.01 L 2066.94 584.51 L 2069 581.01 L 2071.06 584.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2069 550.12 L 2072.5 557.12 L 2069 555.37 L 2065.5 557.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1949" y="589" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 609px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::SoftwareOutputSurface<br />负责软件维护软件渲染表面</div></div></div></foreignObject><text x="2069" y="613" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::SoftwareOutputSurface...</text></switch></g><rect x="1949" y="469" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 509px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::SoftwareOutputDevice<br />BeginPaint():SkCanvas<br />用于提供软件渲染所需要的SkCanvas，并负责输出渲染结果</div></div></div></foreignObject><text x="2069" y="513" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::SoftwareOutputDevice...</text></switch></g><path d="M 2269 509 L 2197.12 509" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2190.12 509 L 2197.12 505.5 L 2197.12 512.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2269" y="469" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 509px; margin-left: 2270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::SoftwareOutputDeviceX11<br />viz::SoftwareOutputDeviceWin*<br />viz::SoftwareOutputDeviceOzone<br />对应到各平台的实现</div></div></div></foreignObject><text x="2389" y="513" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::SoftwareOutputDeviceX11...</text></switch></g><rect x="1629" y="989" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1029px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::Surface<br />QueueFrame()</div></div></div></foreignObject><text x="1749" y="1033" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::Surface...</text></switch></g><rect x="989" y="869" width="240" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 909px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::mojom::FrameSinkManager<br />RegisterFrameSinkId()<br />Create(Root)CompositorFrameSink()<br />DidBeginFrame()</div></div></div></foreignObject><text x="1109" y="913" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::mojom::FrameSinkManager...</text></switch></g><rect x="669" y="749" width="240" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 789px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::mojom::FrameSinkManagerClient<br />OnFirstSurfaceActivation()<br />OnFrameTokenChanged()</div></div></div></foreignObject><text x="789" y="793" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::mojom::FrameSinkManagerClient...</text></switch></g><path d="M 469 869 L 469 837.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469 830.12 L 472.5 837.12 L 465.5 837.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 349 909 L 275.37 909" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 270.12 909 L 277.12 905.5 L 275.37 909 L 277.12 912.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 596.99 909 L 662.63 909" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 589.99 909 L 593.49 906.94 L 596.99 909 L 593.49 911.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 667.88 909 L 660.88 912.5 L 662.63 909 L 660.88 905.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 596.99 928.97 L 629.14 928.86 L 629.14 1008.86 L 662.63 1008.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 589.99 929 L 593.48 926.93 L 596.99 928.97 L 593.49 931.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 667.88 1009 L 660.87 1012.47 L 662.63 1008.98 L 660.89 1005.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 960px; margin-left: 631px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">（1:n）</div></div></div></foreignObject><text x="631" y="964" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">（1:n）</text></switch></g><rect x="349" y="869" width="240" height="80" rx="12" ry="12" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 909px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">demo::DemoHost<br />widget_:gfx::AcceleratedWidget<br />manager_:viz::HostFrameSinkManager<br />client_:demo::DemoClient<br />注册client</div></div></div></foreignObject><text x="469" y="913" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">demo::DemoHost...</text></switch></g><rect x="29" y="889" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 909px; margin-left: 30px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">gfx::AcceleratedWidget<br />对应各平台Native的UI组件</div></div></div></foreignObject><text x="149" y="913" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">gfx::AcceleratedWidget...</text></switch></g><rect x="349" y="749" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 789px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::HostFrameSinkClient<br />OnFirstSurfaceActivation()<br />OnFrameTokenChanged()<br />所有实现该接口的类都是为了和FSM交互，大部分都是为了注册client</div></div></div></foreignObject><text x="469" y="793" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::HostFrameSinkClient...</text></switch></g><path d="M 789 869 L 789 837.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 789 830.12 L 792.5 837.12 L 785.5 837.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 916.99 909 L 982.63 909" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 909.99 909 L 913.49 906.94 L 916.99 909 L 913.49 911.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 987.88 909 L 980.88 912.5 L 982.63 909 L 980.88 905.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 909px; margin-left: 949px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">(M.R.)</div></div></div></foreignObject><text x="949" y="912" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">(M.R.)</text></switch></g><path d="M 669 889 L 629.14 888.86 L 629.14 788.86 L 595.37 788.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 590.12 789 L 597.11 785.47 L 595.37 788.98 L 597.13 792.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="669" y="869" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 909px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::HostFrameSinkManager<br />BindAndSetManager()<br />RegisterFrameSinkId()<br />Create(Root)CompositorFrameSink()<br />代理对FrameSinkManager的调用</div></div></div></foreignObject><text x="789" y="913" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::HostFrameSinkManager...</text></switch></g><path d="M 789 1069 L 789 1100.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 789 1107.88 L 785.5 1100.88 L 792.5 1100.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 916.99 1029 L 982.63 1029" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 909.99 1029 L 913.49 1026.94 L 916.99 1029 L 913.49 1031.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 987.88 1029 L 980.88 1032.5 L 982.63 1029 L 980.88 1025.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1030px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">(M.R.)</div></div></div></foreignObject><text x="950" y="1034" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">(M.R.)</text></switch></g><path d="M 669 1029 L 595.37 1029" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 590.12 1029 L 597.12 1025.5 L 595.37 1029 L 597.12 1032.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="669" y="989" width="240" height="80" rx="12" ry="12" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1029px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">demo::DemoClient<br />负责生成并提交CF到CFS，每一个Client都对应一个FrameSinkId和LocalSurfaceId，可以独立产生用于显示的CF</div></div></div></foreignObject><text x="789" y="1033" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">demo::DemoClient...</text></switch></g><rect x="669" y="1109" width="240" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1149px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::mojom::CompositorFrameSinkClient<br />DidReceiveCompositorFrameAck()<br />OnBeginFrame()<br />OnBeginFramePausedChanged()<br />ReclaimResources()</div></div></div></foreignObject><text x="789" y="1153" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::mojom::CompositorFrameSinkClient...</text></switch></g><path d="M 596.99 669 L 662.63 669" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 589.99 669 L 593.49 666.94 L 596.99 669 L 593.49 671.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 667.88 669 L 660.88 672.5 L 662.63 669 L 660.88 665.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="349" y="629" width="240" height="80" rx="12" ry="12" fill="#f5f5f5" stroke="#666666" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 669px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #333333; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">demo::DemoService<br />runner:viz::VizCompositorThreadRunnerImpl<br />负责初始化Compositor内核</div></div></div></foreignObject><text x="469" y="673" fill="#333333" font-family="Helvetica" font-size="12px" text-anchor="middle">demo::DemoService...</text></switch></g><path d="M 916.99 668.99 L 1109.14 668.86 L 1109.01 742.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 909.99 669 L 913.48 666.94 L 916.99 668.99 L 913.49 671.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1109 747.88 L 1105.51 740.88 L 1109.01 742.63 L 1112.51 740.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 916.99 669 L 1302.63 669" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 909.99 669 L 913.49 666.94 L 916.99 669 L 913.49 671.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 669 L 1300.88 672.5 L 1302.63 669 L 1300.88 665.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="669" y="629" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 669px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::VizCompositorThreadRunner(Impl)<br />CreateFrameSinkManager()<br />维护VizCompositorThread,该线程用于执行合成操作。可以通过自定义该类来实现自定义输出目标</div></div></div></foreignObject><text x="789" y="673" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::VizCompositorThreadRunner(Impl)...</text></switch></g><rect x="979" y="558" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 568px; margin-left: 1049px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">运行在Compositor线程</div></div></div></foreignObject><text x="1049" y="572" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">运行在Compositor线程</text></switch></g><rect x="789" y="558" width="150" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 568px; margin-left: 864px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">运行在主线程或单独线程</div></div></div></foreignObject><text x="864" y="572" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">运行在主线程或单独线程</text></switch></g><rect x="949" y="99" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 109px; margin-left: 950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SetNeedsBeginFrame()</div></div></div></foreignObject><text x="1069" y="113" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SetNeedsBeginFrame()</text></switch></g><path d="M 789 109 L 942.63 109" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 947.88 109 L 940.88 112.5 L 942.63 109 L 940.88 105.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 110px; margin-left: 870px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">可以开始请求下一帧了</div></div></div></foreignObject><text x="870" y="114" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">可以开始请求下一帧了</text></switch></g><path d="M 1069 149 L 915.37 149" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 910.12 149 L 917.12 145.5 L 915.37 149 L 917.12 152.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 149px; margin-left: 989px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">OK，请发送下一帧给我</div></div></div></foreignObject><text x="989" y="152" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">OK，请发送下一帧给我</text></switch></g><path d="M 789 229 L 942.63 229" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 947.88 229 L 940.88 232.5 L 942.63 229 L 940.88 225.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 229px; margin-left: 869px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">给你下一帧</div></div></div></foreignObject><text x="869" y="232" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">给你下一帧</text></switch></g><path d="M 1069 309 L 915.37 309" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 910.12 309 L 917.12 305.5 L 915.37 309 L 917.12 312.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 309px; margin-left: 989px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">上一帧已处理完毕</div></div></div></foreignObject><text x="989" y="312" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">上一帧已处理完毕</text></switch></g><rect x="709" y="179" width="160" height="20" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 189px; margin-left: 710px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">生产CompositorFrame</span></div></div></div></foreignObject><text x="789" y="193" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">生产CompositorFrame</text></switch></g><rect x="989" y="259" width="160" height="20" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 269px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">消费CompositorFrame</span></div></div></div></foreignObject><text x="1069" y="273" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消费CompositorFrame</text></switch></g><path d="M 1069 349 L 1239.14 349.13 Q 1249.14 349.14 1249.14 339.14 L 1249.14 159.14 Q 1249.14 149.14 1239.14 149.13 L 1075.37 149.01" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1070.12 149 L 1077.12 145.51 L 1075.37 149.01 L 1077.12 152.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1069" y="519" width="310" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 529px; margin-left: 1224px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: nowrap; ">M.R. = mojo::Remote 表示通过mojo接口建立的依赖关系</div></div></div></foreignObject><text x="1224" y="533" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">M.R. = mojo::Remote 表示通过mojo接口建立的依赖关系</text></switch></g><rect x="1949" y="629" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 649px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::GLOutputSurface<br />viz::SkiaOutputSurface</div></div></div></foreignObject><text x="2069" y="653" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::GLOutputSurface...</text></switch></g><rect x="1949" y="669" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 689px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">android_webview::ParentOutputSurface<br />android_webview::SynchronousLayerTreeFrameSink::<br />SoftwareOutputSurface</div></div></div></foreignObject><text x="2069" y="693" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">android_webview::ParentOutputSurface...</text></switch></g><rect x="2189" y="629" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 649px; margin-left: 2190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::GLOutputSurfaceOffscreen<br />viz::GLOutputSurface(Android/ChromeOS)</div></div></div></foreignObject><text x="2309" y="653" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::GLOutputSurfaceOffscreen...</text></switch></g><path d="M 1749 741.01 L 1749 715.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1749 748.01 L 1746.94 744.51 L 1749 741.01 L 1751.06 744.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1749 710.12 L 1752.5 717.12 L 1749 715.37 L 1745.5 717.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1876.99 789 L 1942.63 789" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1869.99 789 L 1873.49 786.94 L 1876.99 789 L 1873.49 791.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1947.88 789 L 1940.88 792.5 L 1942.63 789 L 1940.88 785.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1749 829 L 1748.86 858.86 L 1748.89 860.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1748.98 867.88 L 1745.39 860.93 L 1752.39 860.83 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1876.99 788.97 L 1908.86 788.86 L 1908.86 1028.86 L 1942.63 1028.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1869.99 789 L 1873.48 786.93 L 1876.99 788.97 L 1873.49 791.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1947.88 1029 L 1940.87 1032.47 L 1942.63 1028.98 L 1940.89 1025.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1876.99 788.97 L 1908.86 788.86 L 1908.86 908.86 L 1942.63 908.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1869.99 789 L 1873.48 786.93 L 1876.99 788.97 L 1873.49 791.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1947.88 909 L 1940.87 912.47 L 1942.63 908.98 L 1940.89 905.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1621.01 808.97 L 1588.86 808.86 L 1588.86 1008.86 L 1555.37 1008.98" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1628.01 809 L 1624.51 811.04 L 1621.01 808.97 L 1624.52 806.93 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1550.12 1009 L 1557.11 1005.47 L 1555.37 1008.98 L 1557.13 1012.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1629 809 L 1588.86 808.86 L 1588.86 908.86 L 1555.37 908.98" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1550.12 909 L 1557.11 905.47 L 1555.37 908.98 L 1557.13 912.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1629" y="749" width="240" height="80" rx="12" ry="12" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 789px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::Display<br />SetLocalSurfaceId()<br />使用合成器将当前Surface合成，并使用DirectRenderer进行绘制并最终显示。它就是所谓的Display Compositor.负责通知DisplayerScheduler将自己加入BFS</div></div></div></foreignObject><text x="1749" y="793" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::Display...</text></switch></g><rect x="1629" y="869" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 909px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::DisplaySchedulerClient<br />viz::OutputSurfaceClient<br /><b>DrawAndSwap()<br />SurfaceDamaged()<br /></b></div></div></div></foreignObject><text x="1749" y="913" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::DisplaySchedulerClient...</text></switch></g><path d="M 2069 1069 L 2069 1100.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2069 1107.88 L 2065.5 1100.88 L 2072.5 1100.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 2189 1029 L 2260.88 1029" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2267.88 1029 L 2260.88 1032.5 L 2260.88 1025.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1949" y="989" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1029px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::DisplayScheduler<br /><b>DrawAndSwap()</b><br />用于调度Draw/Swap的时机，控制帧率，BFS和SurfaceManager都会驱动它前进（最新代码该类只由SurfaceManger驱动）</div></div></div></foreignObject><text x="2069" y="1033" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::DisplayScheduler...</text></switch></g><rect x="2269" y="989" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1029px; margin-left: 2270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::SurfaceObserver<br />OnSurfaceActivated/Damaged()<br />用于从SurfaceManager接收Surface改变通知</div></div></div></foreignObject><text x="2389" y="1033" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::SurfaceObserver...</text></switch></g><rect x="1949" y="869" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 909px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::SurfaceAggregator<br />Aggregate()<br />将当前surface合成到一个CF中</div></div></div></foreignObject><text x="2069" y="913" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::SurfaceAggregator...</text></switch></g><path d="M 1556.99 789 L 1622.63 789" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1549.99 789 L 1553.49 786.94 L 1556.99 789 L 1553.49 791.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1627.88 789 L 1620.88 792.5 L 1622.63 789 L 1620.88 785.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1429 749 L 1429 715.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1429 710.12 L 1432.5 717.12 L 1429 715.37 L 1425.5 717.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1429 836.99 L 1429 862.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1429 829.99 L 1431.06 833.49 L 1429 836.99 L 1426.94 833.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1429 867.88 L 1425.5 860.88 L 1429 862.63 L 1432.5 860.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1309" y="749" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 789px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::RootCompositorFrameSinkImpl<br />专门对接root client的CFS</div></div></div></foreignObject><text x="1429" y="793" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::RootCompositorFrameSinkImpl...</text></switch></g><path d="M 2068.94 741.01 L 2068.86 728.86 L 1808.86 728.86 L 1808.95 715.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 2068.99 748.01 L 2066.91 744.53 L 2068.94 741.01 L 2071.03 744.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1808.99 710.12 L 1812.44 717.14 L 1808.95 715.37 L 1805.44 717.09 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1949" y="749" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 789px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::DirectRenderer<br /><b>DrawFrame()</b>:执行真正的绘制<br /><b>SwapBuffers*()</b>:交换缓存，进行显示<br />根据DrawQuad的类型将内容绘制到由OutputSurface提供的buffer中去</div></div></div></foreignObject><text x="2069" y="793" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::DirectRenderer...</text></switch></g><path d="M 2269 789 L 2197.12 789" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 2190.12 789 L 2197.12 785.5 L 2197.12 792.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2269" y="749" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 789px; margin-left: 2270px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::GLRenderer<br />viz::SkiaRenderer<br />viz::SoftwareRenderer<br />DoDrawQuad():实现Quad的绘制<br />不同的绘制(光栅化)和渲染后端</div></div></div></foreignObject><text x="2389" y="793" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::GLRenderer...</text></switch></g><path d="M 1109 2069 L 1109 2037.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1109 2030.12 L 1112.5 2037.12 L 1105.5 2037.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1109.14 2069 L 1109.14 2048.86 L 789.14 2048.86 L 789.14 2037.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 789.14 2030.12 L 792.64 2037.12 L 785.64 2037.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1236.99 2108.86 L 1269.14 2108.86 L 1269.14 2229.14 L 1302.63 2229.14" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1229.99 2108.86 L 1233.49 2106.8 L 1236.99 2108.86 L 1233.49 2110.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 2229.14 L 1300.88 2232.64 L 1302.63 2229.14 L 1300.88 2225.64 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1109 2156.99 L 1109 2182.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1109 2149.99 L 1111.06 2153.49 L 1109 2156.99 L 1106.94 2153.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1109 2187.88 L 1105.5 2180.88 L 1109 2182.63 L 1112.5 2180.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1236.99 2108.97 L 1269.14 2108.86 L 1269.14 2349.14 L 1302.63 2349.02" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1229.99 2109 L 1233.48 2106.93 L 1236.99 2108.97 L 1233.49 2111.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 2349 L 1300.89 2352.53 L 1302.63 2349.02 L 1300.87 2345.53 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="989" y="2069" width="240" height="80" rx="12" ry="12" fill="#ffe6cc" stroke="#d79b00" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2109px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ui::DirectLayerTreeFrameSink<br />cc::mojo_embedder::AsyncLayerTreeFrameSink<br />OnNeedsBeginFrames()</div></div></div></foreignObject><text x="1109" y="2113" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">ui::DirectLayerTreeFrameSink...</text></switch></g><rect x="989" y="2189" width="240" height="80" rx="12" ry="12" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2229px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::Display</div></div></div></foreignObject><text x="1109" y="2233" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::Display</text></switch></g><rect x="1309" y="2189" width="240" height="80" rx="12" ry="12" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2229px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::CompositorFrameSinkSupport<br />SubmitCompositorFrame()</div></div></div></foreignObject><text x="1429" y="2233" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::CompositorFrameSinkSupport...</text></switch></g><rect x="669" y="1949" width="240" height="80" rx="12" ry="12" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1989px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::mojom::CompositorFrameSinkClient<br />DidReceiveCompositorFrameAck()<br />OnBeginFrame()<br />OnBeginFramePausedChanged()<br />ReclaimResources()</div></div></div></foreignObject><text x="789" y="1993" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::mojom::CompositorFrameSinkClient...</text></switch></g><path d="M 1236.99 2008.97 L 1269.14 2008.86 L 1269.14 2088.86 L 1302.63 2088.98" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1229.99 2009 L 1233.48 2006.93 L 1236.99 2008.97 L 1233.49 2011.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 2089 L 1300.87 2092.47 L 1302.63 2088.98 L 1300.89 2085.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="989" y="1949" width="240" height="80" rx="12" ry="12" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1989px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::LayerTreeFrameSink<br />SubmitCompositorFrame()<br />DidNotProduceFrame()<br />作用和RootCompositorFrameSink类似，在渲染部分连接cc和viz，把cc提交的CF转发到viz,把viz对CF的请求转发到cc</div></div></div></foreignObject><text x="1109" y="1993" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::LayerTreeFrameSink...</text></switch></g><path d="M 1109.14 1936.99 L 1109.14 1948.86 L 1109.14 1928.86 L 1109.14 1942.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1109.14 1929.99 L 1111.2 1933.49 L 1109.14 1936.99 L 1107.08 1933.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1109.14 1947.88 L 1105.64 1940.88 L 1109.14 1942.63 L 1112.64 1940.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1236.99 1846.51 L 1269.14 1846.57 L 1269.14 1748.86 L 1302.63 1748.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1229.99 1846.5 L 1233.49 1844.45 L 1236.99 1846.51 L 1233.48 1848.57 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 1749 L 1300.87 1752.47 L 1302.63 1748.98 L 1300.89 1745.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1169 1811.01 L 1169 1795.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1169 1818.01 L 1166.94 1814.51 L 1169 1811.01 L 1171.06 1814.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1169 1790.12 L 1172.5 1797.12 L 1169 1795.37 L 1165.5 1797.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="989" y="1819" width="240" height="110" rx="16.5" ry="16.5" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1874px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::LayerTreeHost<br />RequestNewLayerTreeFrameSink()<br />SetLayerTreeFrameSink():初始化LTFS<br />CreateLayerTreeHostImpl()<br /><b>UpdateLayers</b>():启动Layer的绘制<br /><b>SetNeedsCommit</b>():请求BeginMainFrame<br />root_layer_:cc::Layer 主线程Layer树<br /><b>维护主线程Layer树并适时提交到impl</b></div></div></div></foreignObject><text x="1109" y="1878" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::LayerTreeHost...</text></switch></g><path d="M 1109 1796.99 L 1109 1812.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1109 1789.99 L 1111.06 1793.49 L 1109 1796.99 L 1106.94 1793.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1109 1817.88 L 1105.5 1810.88 L 1109 1812.63 L 1112.5 1810.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1109 1669 L 1109 1637.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1109 1630.12 L 1112.5 1637.12 L 1105.5 1637.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1236.99 1728.97 L 1269.14 1728.86 L 1269.14 1638.86 L 1302.63 1638.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1229.99 1729 L 1233.48 1726.93 L 1236.99 1728.97 L 1233.49 1731.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 1639 L 1300.87 1642.47 L 1302.63 1638.98 L 1300.89 1635.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1236.99 1728.97 L 1269.14 1728.86 L 1269.14 1528.86 L 1302.63 1528.98" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1229.99 1729 L 1233.48 1726.93 L 1236.99 1728.97 L 1233.49 1731.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 1529 L 1300.87 1532.47 L 1302.63 1528.98 L 1300.89 1525.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1678px; margin-left: 1269px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">root</div></div></div></foreignObject><text x="1269" y="1681" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">root</text></switch></g><path d="M 981.01 1758.97 L 949.14 1758.86 L 949.14 1928.86 L 469.14 1928.86 L 469.01 2062.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 988.01 1759 L 984.51 1761.04 L 981.01 1758.97 L 984.52 1756.93 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 469 2067.88 L 465.51 2060.88 L 469.01 2062.63 L 472.51 2060.89 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1109.14 1669 L 1109.14 1648.86 L 789.14 1648.86 L 789.14 1637.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 789.14 1630.12 L 792.64 1637.12 L 785.64 1637.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="989" y="1669" width="240" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1729px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ui::Compositor<br />SetLayerTreeFrameSink()<br />SetRootLayer()<br />root_layer_:ui::Layer:ui::Layer的根<br />root_web_layer_:cc::Layer:cc::Layer的根<br />负责初始化cc和viz，并建立起ui,cc,viz三者的连接</div></div></div></foreignObject><text x="1109" y="1733" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">ui::Compositor...</text></switch></g><rect x="989" y="1569" width="240" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1599px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::LayerTreeHostClient<br /><b>RequestNewLayerTreeFrameSink</b>()<br />Will/DidUpdateLayers()<br />用于接收cc内部的通知</div></div></div></foreignObject><text x="1109" y="1603" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::LayerTreeHostClient...</text></switch></g><path d="M 916.99 1748.86 L 949.14 1748.86 L 949.14 1728.86 L 982.63 1728.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 909.99 1748.86 L 913.49 1746.8 L 916.99 1748.86 L 913.49 1750.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 987.88 1729 L 980.87 1732.47 L 982.63 1728.98 L 980.89 1725.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="669" y="1709" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1749px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">aura::WindowTreeHost<br />CreateCompositor()</div></div></div></foreignObject><text x="789" y="1753" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">aura::WindowTreeHost...</text></switch></g><path d="M 589 1754 L 589 1744 L 639 1744 L 639 1734 L 669 1749 L 639 1764 L 639 1754 Z" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="all"/><rect x="349" y="1709" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1749px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">views::Widget</div></div></div></foreignObject><text x="469" y="1753" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">views::Widget</text></switch></g><path d="M 1429.14 1916.99 L 1429.14 1928.86 L 1429.14 1918.86 L 1429.14 1932.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1429.14 1909.99 L 1431.2 1913.49 L 1429.14 1916.99 L 1427.08 1913.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1429.14 1937.88 L 1425.64 1930.88 L 1429.14 1932.63 L 1432.64 1930.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1429 1829 L 1429 1797.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1429 1790.12 L 1432.5 1797.12 L 1425.5 1797.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1549 1868.86 L 1588.86 1868.86 L 1588.86 1858.86 L 1620.88 1858.97" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1627.88 1859 L 1620.87 1862.47 L 1620.89 1855.47 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1301.01 1868.86 L 1269.14 1868.86 L 1269.14 1874 L 1235.37 1874" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1308.01 1868.86 L 1304.51 1870.92 L 1301.01 1868.86 L 1304.51 1866.8 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1230.12 1874 L 1237.12 1870.5 L 1235.37 1874 L 1237.12 1877.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1549 1868.86 L 1588.86 1868.86 L 1588.86 1908.86 L 1620.88 1908.97" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1627.88 1909 L 1620.87 1912.47 L 1620.89 1905.47 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1556.99 1848.94 L 1568.86 1848.86 L 1568.86 1748.86 L 1622.63 1748.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1549.99 1848.99 L 1553.47 1846.91 L 1556.99 1848.94 L 1553.5 1851.03 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1627.88 1749 L 1620.87 1752.48 L 1622.63 1748.98 L 1620.89 1745.48 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1309" y="1829" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1869px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::SingleThreadProxy<br />cc::ProxyImpl+cc::ProxyMain<br />BeginMainFrame():<br />DoComposite()<br />DoCommit():提交绘制结果到Impl端<br />连接main端和impl端</div></div></div></foreignObject><text x="1429" y="1873" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::SingleThreadProxy...</text></switch></g><rect x="1629" y="1829" width="240" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1859px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::SchedulerClient<br />ScheduledActionDrawIfPossible()<br />ScheduledActionSendBeginMainFrame()<br />定义了所有可调度的Action</div></div></div></foreignObject><text x="1749" y="1863" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::SchedulerClient...</text></switch></g><rect x="1309" y="1709" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1749px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::Proxy<br />SetLayerTreeFrameSink()<br />SetNeedsCommit()<br />代理所有主线程对impl的调用</div></div></div></foreignObject><text x="1429" y="1753" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::Proxy...</text></switch></g><path d="M 1556.99 1988.97 L 1588.86 1988.86 L 1588.86 1918.86 L 1622.63 1918.98" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1549.99 1989 L 1553.48 1986.93 L 1556.99 1988.97 L 1553.49 1991.04 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1627.88 1919 L 1620.87 1922.47 L 1622.63 1918.98 L 1620.89 1915.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1556.99 2014 L 1588.86 2014 L 1588.86 2008.86 L 1622.63 2008.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1549.99 2014 L 1553.49 2011.94 L 1556.99 2014 L 1553.49 2016.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1627.88 2009 L 1620.87 2012.47 L 1622.63 2008.98 L 1620.89 2005.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1429.14 2039 L 1429.14 2058.86 L 1429.14 2048.86 L 1429.14 2060.88" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1429.14 2067.88 L 1425.64 2060.88 L 1432.64 2060.88 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1301.01 1989 L 1235.37 1989" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1308.01 1989 L 1304.51 1991.06 L 1301.01 1989 L 1304.51 1986.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1230.12 1989 L 1237.12 1985.5 L 1235.37 1989 L 1237.12 1992.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1309" y="1939" width="240" height="100" rx="15" ry="15" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1989px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::LayerTreeHostImpl<br />SetNeedsCommit()<br />GenerateCompositorFrame()<br /><b>DrawLayers</b>():提交CF<br /><b>维护3棵Layer树：active/pending/recycle<br />并负责生成并提交CF到LTFS</b></div></div></div></foreignObject><text x="1429" y="1993" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::LayerTreeHostImpl...</text></switch></g><rect x="1629" y="1889" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1909px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::LayerTreeHostImplClient<br />SetBeginFrameSource()<br />SetNeedsCommitOnImplThread()</div></div></div></foreignObject><text x="1749" y="1913" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::LayerTreeHostImplClient...</text></switch></g><path d="M 1749 1796.99 L 1749 1822.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1749 1789.99 L 1751.06 1793.49 L 1749 1796.99 L 1746.94 1793.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1749 1827.88 L 1745.5 1820.88 L 1749 1822.63 L 1752.5 1820.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1870 1749 L 1940.88 1749" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1947.88 1749 L 1940.88 1752.5 L 1940.88 1745.5 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1629" y="1709" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1749px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::Scheduler<br />SetBeginFrameSource()<br />SetNeedsBeginMainFrame()<br />调度Layer的绘制以及提交，提供各种Set方法，允许main端和impl端控制调度的流程，由Proxy和BFS驱动</div></div></div></foreignObject><text x="1749" y="1753" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::Scheduler...</text></switch></g><rect x="1949" y="1709" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1749px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::BeginFrameObserver(Base)</div></div></div></foreignObject><text x="2069" y="1753" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::BeginFrameObserver(Base)</text></switch></g><path d="M 909 2209 L 949.14 2209.14 L 949.14 2108.86 L 982.63 2108.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 987.88 2109 L 980.87 2112.47 L 982.63 2108.98 L 980.89 2105.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 789 2189 L 789 2157.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 789 2150.12 L 792.5 2157.12 L 785.5 2157.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 916.99 2229.04 L 939.14 2229.14 L 982.63 2229.02" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 909.99 2229 L 913.5 2226.96 L 916.99 2229.04 L 913.48 2231.08 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 987.88 2229 L 980.89 2232.52 L 982.63 2229.02 L 980.87 2225.52 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 916.99 2249.03 L 949.14 2249.14 L 949.14 2349.14 L 982.63 2349.02" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 909.99 2249 L 913.49 2246.96 L 916.99 2249.03 L 913.48 2251.07 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 987.88 2349 L 980.89 2352.53 L 982.63 2349.02 L 980.87 2345.53 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="669" y="2189" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2229px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ui::InProcessContextFactory</div></div></div></foreignObject><text x="789" y="2233" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">ui::InProcessContextFactory</text></switch></g><rect x="669" y="2069" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2109px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ui::ContextFactory<br />ui::ContextFactoryPrivate<br /><b>CreateLayerTreeFrameSink</b>()<br />SharedMainThreadContextProvider()<br />提供3D Context以及FrameSink</div></div></div></foreignObject><text x="789" y="2113" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">ui::ContextFactory...</text></switch></g><rect x="989" y="2309" width="240" height="80" rx="12" ry="12" fill="#e1d5e7" stroke="#9673a6" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2349px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::FrameSinkManager(Impl)<br />surface_manager_:viz::SurfaceManager</div></div></div></foreignObject><text x="1109" y="2353" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::FrameSinkManager(Impl)...</text></switch></g><path d="M 596.99 2109 L 662.63 2109" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 589.99 2109 L 593.49 2106.94 L 596.99 2109 L 593.49 2111.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 667.88 2109 L 660.88 2112.5 L 662.63 2109 L 660.88 2105.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="349" y="2069" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2109px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">aura::Env<br />static GetInstance()<br />context_factory():ui::ContextFactory</div></div></div></foreignObject><text x="469" y="2113" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">aura::Env...</text></switch></g><path d="M 1876.99 1988.86 L 1908.86 1988.86 L 1908.86 1668.86 L 1875.37 1668.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1869.99 1988.86 L 1873.49 1986.8 L 1876.99 1988.86 L 1873.49 1990.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1870.12 1669 L 1877.11 1665.47 L 1875.37 1668.98 L 1877.13 1672.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1629" y="1949" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1989px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::LayerTreeImpl<br />SetPropertyTrees()<br />保存由LayerTreeHost提交过来的Layer数据（property_trees），这些数据可以得到RenderPass</div></div></div></foreignObject><text x="1749" y="1993" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::LayerTreeImpl...</text></switch></g><path d="M 1549 1664 L 1588.86 1664 L 1588.86 1668.86 L 1622.63 1668.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1627.88 1669 L 1620.87 1672.47 L 1622.63 1668.98 L 1620.89 1665.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1749 1541.01 L 1749 1515.37" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1749 1548.01 L 1746.94 1544.51 L 1749 1541.01 L 1751.06 1544.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1749 1510.12 L 1752.5 1517.12 L 1749 1515.37 L 1745.5 1517.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1309" y="1589" width="240" height="100" rx="15" ry="15" fill="none" stroke="#b85450" stroke-width="2" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1639px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::Layer<br />Update():在内部启动绘制逻辑<br />CreateLayerImpl()<br />PushPropertiesTo(LayerImpl)<br />inputs_:保存Layer的状态以及子Layer<br />AddChild(cc::Layer)<br />自己本身只是一个逻辑Layer，无法显示</div></div></div></foreignObject><text x="1429" y="1643" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::Layer...</text></switch></g><path d="M 1236.99 1509 L 1302.63 1509" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1229.99 1509 L 1233.49 1506.94 L 1236.99 1509 L 1233.49 1511.06 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1307.88 1509 L 1300.88 1512.5 L 1302.63 1509 L 1300.88 1505.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="989" y="1469" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1509px; margin-left: 990px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">views::View<br />SetPaintLayer():设置自己绘制到独立的layer<br />由views自己控制是否要绘制到独立的layer，如果要则会创建ui::Layer<br />实际的绘制保存在cc::PictureLayer</div></div></div></foreignObject><text x="1109" y="1513" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">views::View...</text></switch></g><path d="M 1429 1556.99 L 1429 1582.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1429 1549.99 L 1431.06 1553.49 L 1429 1556.99 L 1426.94 1553.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1429 1587.88 L 1425.5 1580.88 L 1429 1582.63 L 1432.5 1580.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1549 1508.86 L 1588.86 1508.86 L 1588.86 1488.86 L 1620.88 1488.86" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1627.88 1488.86 L 1620.88 1492.36 L 1620.88 1485.36 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1309" y="1469" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1509px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ui::Layer<br />CreateCcLayer()<br />根据views传递的类型创建合适类型的cc::Layer</div></div></div></foreignObject><text x="1429" y="1513" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">ui::Layer...</text></switch></g><path d="M 1629 1609 L 1588.86 1608.86 L 1588.86 1638.86 L 1557.12 1638.86" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1550.12 1638.86 L 1557.12 1635.36 L 1557.12 1642.36 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1876.99 1588.86 L 1908.86 1588.86 L 1908.86 1608.86 L 1942.63 1608.86" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1869.99 1588.86 L 1873.49 1586.8 L 1876.99 1588.86 L 1873.49 1590.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1947.88 1608.86 L 1940.88 1612.36 L 1942.63 1608.86 L 1940.88 1605.36 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1629" y="1549" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1589px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::PictureLayer<br />picture_layer_inputs_:保存Picture的特殊数据，包括绘制操作<br />可以保存绘制型Layer的绘制结果到inputs中</div></div></div></foreignObject><text x="1749" y="1593" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::PictureLayer...</text></switch></g><rect x="1949" y="1589" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1609px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::RecordingSource<br />display_list_:cc::DisplayItemList<br />存储DisplayItemList</div></div></div></foreignObject><text x="2069" y="1613" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::RecordingSource...</text></switch></g><path d="M 1556.99 1488.94 Q 1568.86 1488.86 1568.86 1463.86 Q 1568.86 1438.86 1529 1438.86 Q 1489.14 1438.86 1489.03 1462.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1549.99 1488.99 L 1553.47 1486.91 L 1556.99 1488.94 L 1553.5 1491.03 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1489.01 1467.88 L 1485.54 1460.87 L 1489.03 1462.63 L 1492.54 1460.9 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1236.99 1488.94 Q 1249.14 1488.86 1249.14 1463.86 Q 1249.14 1438.86 1209.14 1438.86 Q 1169.14 1438.86 1169.03 1462.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1229.99 1488.99 L 1233.47 1486.91 L 1236.99 1488.94 L 1233.5 1491.03 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1169.01 1467.88 L 1165.54 1460.87 L 1169.03 1462.63 L 1172.54 1460.9 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1629" y="1649" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1669px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::LayerImpl<br /></div></div></div></foreignObject><text x="1749" y="1673" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::LayerImpl&#xa;</text></switch></g><path d="M 276.99 2048.86 L 309.14 2048.86 L 309.14 1748.86 L 342.63 1748.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 269.99 2048.86 L 273.49 2046.8 L 276.99 2048.86 L 273.49 2050.92 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 347.88 1749 L 340.87 1752.47 L 342.63 1748.98 L 340.89 1745.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 269 2109 L 342.63 2109" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 347.88 2109 L 340.88 2112.5 L 342.63 2109 L 340.88 2105.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="189" y="1709" width="80" height="680" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 2049px; margin-left: 190px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">demo_views</div></div></div></foreignObject><text x="229" y="2053" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">demo_views</text></switch></g><rect x="1149" y="2429" width="400" height="240" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 398px; height: 1px; padding-top: 2436px; margin-left: 1151px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz: <span style="color: rgba(0 , 0 , 0 , 0.87) ; font-family: &quot;roboto mono&quot; , monospace ; letter-spacing: 0.3px ; white-space: pre-wrap">负责CF的合成和最终的渲染，是OOP-D项目的成果；<br />cc: 所有端都依赖它，包括内核和浏览器UI，负责将Layer合成为CF，最后通过LayerTreeFrameSink提交到后端进行显示，目前所有端的最终渲染都使用viz；<br />aura: 只用于桌面端，用于抽象各平台的Native窗口/控件；<br />views: 只用于桌面端，用于浏览器UI；<br />ozone: 基于drm的DS(Display Server)，类似X11或者Wayland;<br />ui: 用于开发浏览器UI；<br /><br />注意：<br /></span>webview有一个叫<span style="color: rgba(0 , 0 , 0 , 0.87) ; font-family: &quot;roboto mono&quot; , monospace ; letter-spacing: 0.3px ; white-space: pre-wrap">VizForWebView的feature控制开关（默认不启用），不要被它误导了，它并不是说关闭之后webview就不使用viz了，事实是</span><span style="color: rgba(0 , 0 , 0 , 0.87) ; font-family: &quot;roboto mono&quot; , monospace ; letter-spacing: 0.3px ; white-space: pre-wrap">当前的webview也使用viz，这个开关只控制是否使用独立的线程执行最终的渲染操作，但不管是否在独立的viz线程执行渲染，viz::CompositorFrameSinkSupport,viz::Display等这些viz的核心实现类都被webview使用。<br /></span></div></div></div></foreignObject><text x="1151" y="2448" fill="#000000" font-family="Helvetica" font-size="12px">viz: 负责CF的合成和最终的渲染，是OOP-D项目的成果；...</text></switch></g><rect x="1589" y="2229" width="350" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 348px; height: 1px; padding-top: 2249px; margin-left: 1590px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">ui</div></div></div></foreignObject><text x="1764" y="2253" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">ui</text></switch></g><rect x="1589" y="2389" width="520" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 518px; height: 1px; padding-top: 2409px; margin-left: 1590px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz</div></div></div></foreignObject><text x="1849" y="2413" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz</text></switch></g><rect x="1669" y="2349" width="360" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 358px; height: 1px; padding-top: 2369px; margin-left: 1670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc</div></div></div></foreignObject><text x="1849" y="2373" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc</text></switch></g><rect x="1629" y="2309" width="120" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2329px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">aura</div></div></div></foreignObject><text x="1689" y="2333" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">aura</text></switch></g><rect x="1669" y="2269" width="160" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2289px; margin-left: 1670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">views</div></div></div></foreignObject><text x="1749" y="2293" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">views</text></switch></g><rect x="989" y="1209" width="800" height="160" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 798px; height: 1px; padding-top: 1216px; margin-left: 991px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">注意1：<br />viz给出的demo中只演示了使用mojo通信的方式来使用viz，但这不是使用viz的唯一方式。还有一种方式是直接使用图中的三个紫色标记的类，有了它们就可以直接渲染由cc产生的CF而不需要进行mojo通信，单进程的chromium以及需要自己控制渲染流程的embedder(webview)都是采用这种方式。<br /><br />注意2：<br />chromium中共有三种Compositor，分别为DisplayCompositor,ChromeCompositor(或LayerCompositor),UICompositor(这个是我自己加的，为了提醒注意) ，它们分别由viz，cc，ui/compositor这三个模块实现，它们的主要作用为：<br />viz: 用于合成CF并负责最终的显示；<br />cc: 用于将cc::Layer合成为CF并提交给viz;<br />ui/compositor: 负责将ui::Layer合成为cc::Layer;</div></div></div></foreignObject><text x="991" y="1228" fill="#000000" font-family="Helvetica" font-size="12px">注意1：...</text></switch></g><rect x="1309" y="869" width="240" height="80" rx="12" ry="12" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 909px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::BeginFrameSource<br />渲染的发动机，用于产生OnBeginFrame事件，推动support请求CF，推动DisplayScheduler执行渲染</div></div></div></foreignObject><text x="1429" y="913" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::BeginFrameSource...</text></switch></g><rect x="1949" y="1109" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1149px; margin-left: 1950px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::BeginFrameObserver(Base)<br />OnBeginFrame()<br />用于从BeginFrameSource接收OnBeginFrame通知</div></div></div></foreignObject><text x="2069" y="1153" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::BeginFrameObserver(Base)...</text></switch></g><rect x="1309" y="2309" width="240" height="80" rx="12" ry="12" fill="#d5e8d4" stroke="#82b366" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2349px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::BeginFrameSource</div></div></div></foreignObject><text x="1429" y="2353" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::BeginFrameSource</text></switch></g><rect x="1909" y="2309" width="160" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2329px; margin-left: 1910px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">blink</div></div></div></foreignObject><text x="1989" y="2333" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">blink</text></switch></g><rect x="1869" y="2269" width="240" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2289px; margin-left: 1870px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">content</div></div></div></foreignObject><text x="1989" y="2293" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">content</text></switch></g><rect x="1629" y="1469" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1489px; margin-left: 1630px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::ContentLayerClient<br />PaintContentsToDisplayList()<br />用于提供cc::PictureLayer的内容</div></div></div></foreignObject><text x="1749" y="1493" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::ContentLayerClient...</text></switch></g><rect x="1309" y="2069" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2109px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">cc::LayerTreeFrameSinkClient<br />SetBeginFrameSource()<br />OnDraw():用于WebView的同步绘制请求</div></div></div></foreignObject><text x="1429" y="2113" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">cc::LayerTreeFrameSinkClient...</text></switch></g><path d="M 1149 2749 L 1149 3392.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1149 3397.88 L 1145.5 3390.88 L 1149 3392.63 L 1152.5 3390.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1029" y="2709" width="240" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2729px; margin-left: 1030px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="white-space: normal">main/FrameTreeHost</span></div></div></div></foreignObject><text x="1149" y="2733" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">main/FrameTreeHost</text></switch></g><path d="M 1429 2749 L 1429 3392.63" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="stroke"/><path d="M 1429 3397.88 L 1425.5 3390.88 L 1429 3392.63 L 1432.5 3390.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="1309" y="2709" width="240" height="40" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2729px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">impl/Proxy+FrameTreeHostImpl</div></div></div></foreignObject><text x="1429" y="2733" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">impl/Proxy+FrameTreeHostImpl</text></switch></g><rect x="1309" y="3029" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 3039px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SubmitCompositorFrame()</div></div></div></foreignObject><text x="1429" y="3043" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SubmitCompositorFrame()</text></switch></g><rect x="1029" y="2949" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2959px; margin-left: 1030px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">OnBeginFrame()</div></div></div></foreignObject><text x="1149" y="2963" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">OnBeginFrame()</text></switch></g><rect x="1029" y="3109" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 3119px; margin-left: 1030px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">DidReceiveCompositorFrameAck()</div></div></div></foreignObject><text x="1149" y="3123" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">DidReceiveCompositorFrameAck()</text></switch></g><path d="M 1269 2789 L 1422.63 2789" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1427.88 2789 L 1420.88 2792.5 L 1422.63 2789 L 1420.88 2785.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2789px; margin-left: 1349px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; "><span style="font-size: 12px">可以开始请求下一帧了</span></div></div></div></foreignObject><text x="1349" y="2792" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">可以开始请求下一帧了</text></switch></g><rect x="1029" y="2779" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2789px; margin-left: 1030px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">SetNeedsBeginFrame()</div></div></div></foreignObject><text x="1149" y="2793" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">SetNeedsBeginFrame()</text></switch></g><path d="M 1429 2959 L 1275.37 2959" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1270.12 2959 L 1277.12 2955.5 L 1275.37 2959 L 1277.12 2962.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 1149 3039 L 1302.63 3039" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1307.88 3039 L 1300.88 3042.5 L 1302.63 3039 L 1300.88 3035.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3039px; margin-left: 1229px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">给你下一帧</div></div></div></foreignObject><text x="1229" y="3042" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">给你下一帧</text></switch></g><path d="M 1429 3119 L 1275.37 3119" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1270.12 3119 L 1277.12 3115.5 L 1275.37 3119 L 1277.12 3122.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 3119px; margin-left: 1349px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">上一帧已处理完毕</div></div></div></foreignObject><text x="1349" y="3122" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">上一帧已处理完毕</text></switch></g><rect x="1069" y="2989" width="160" height="20" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 2999px; margin-left: 1070px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">生产CompositorFrame</span></div></div></div></foreignObject><text x="1149" y="3003" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">生产CompositorFrame</text></switch></g><rect x="1349" y="3069" width="160" height="20" fill="#d5e8d4" stroke="#82b366" stroke-dasharray="3 3" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 3079px; margin-left: 1350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><span style="white-space: nowrap">消费CompositorFrame</span></div></div></div></foreignObject><text x="1429" y="3083" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消费CompositorFrame</text></switch></g><path d="M 1429 3159 L 1598.86 3159.13 Q 1608.86 3159.14 1608.86 3149.14 L 1608.86 2969.14 Q 1608.86 2959.14 1598.86 2959.13 L 1435.37 2959.01" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1430.12 2959 L 1437.12 2955.51 L 1435.37 2959.01 L 1437.12 2962.51 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="2269" y="1669" width="640" height="280" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe flex-start; width: 638px; height: 1px; padding-top: 1676px; margin-left: 2271px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><div>每次Scheduler的调度都会按以下顺序更新调度器的状态：</div><div>• <b>ScheduleBeginImplFrameDeadline</b>: 用于设定一个Deadline，在该Deadline之前都允许触发SEND_BEGIN_MAIN_FRAME事件，在Deadline触发后就不再允许触发该事件。它会Post一个延迟的OnBeginImplFrameDeadline事件，如果该事件执行了表示已经到了Deadline（状态机进入INSIDE_DEADLINE状态），它会设置一些状态禁止触发BeginMainFrame，然后进行下一次调度，这些调度都是需要在Deadline状态才能执行的操作，可能调度到DRAW_IF_POSSIBLE，这会触发client提交CF到viz，也可能调度到其他状态比如PREPARE_TILES等，当然也可能调度到NONE状态，在进入Deadline之后的所有操作都完成之后，调度器会进入空闲状态IDLE，此时就算退出Deadline了，后续就允许触发SEND_BEGIN_MAIN_FRAME事件了。</div><div>• <b>PostPendingBeginFrameTask</b>: 用于检测是否需要触发SEND_BEGIN_MAIN_FRAME事件，如果需要它会Post HandlePendingBeginFrame事件，该事件执行后会使状态机进入INSIDE_BEGIN_FRAME状态，随后调度器会在合适的时机触发SEND_BEGIN_MAIN_FRAME事件，这会调用client进行绘制，在client绘制完成之后会请求调度器执行提交COMMIT以及激活ACTIVATE_SYNC_TREE。</div><div>• <b>StartOrStopBeginFrames</b>: 用于检测当前是否处于IDLE状态，如果是则将自己从 BFS 移除，否则则将自己 加入BFS。如果调度器将自己从BFS上移除，则会进入”休眠状态“，此时不会调度器不会占用CPU，如果后续外部需要更新显示的画面，可以通过cc::Scheduler::SetNeedsBeginFrame()来激活调度器（注意cc模块外可以通过cc::LayerTreeHost::SetNeedsCommit()来间接调用它，如果在cc::Layer中，则可以直接调用它的SetNeedsCommit成员函数，如果cc::Layer没有任何变化，只调用SetNeddsCommit()则不会激活调度器，必须有实际的变更或者标记区域demaged）。</div><div><br /></div></div></div></div></foreignObject><text x="2271" y="1688" fill="#000000" font-family="Helvetica" font-size="12px">每次Scheduler的调度都会按以下顺序更新调度器的状态：...</text></switch></g><path d="M 1309 2839 L 1155.37 2839" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1150.12 2839 L 1157.12 2835.5 L 1155.37 2839 L 1157.12 2842.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2839px; margin-left: 1229px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">OK，请发送下一帧给我</div></div></div></foreignObject><text x="1229" y="2842" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">OK，请发送下一帧给我</text></switch></g><rect x="1309" y="2829" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2839px; margin-left: 1310px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">BeginMainFrame()</div></div></div></foreignObject><text x="1429" y="2843" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">BeginMainFrame()</text></switch></g><path d="M 1149 2909 L 1422.63 2909" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 1427.88 2909 L 1420.88 2912.5 L 1422.63 2909 L 1420.88 2905.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 2909px; margin-left: 1289px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">我绘制完了，请执行Commit</div></div></div></foreignObject><text x="1289" y="2912" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">我绘制完了，请执行Commit</text></switch></g><rect x="1029" y="2869" width="240" height="20" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 2879px; margin-left: 1030px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">PaintContentsToDIsplayList()</div></div></div></foreignObject><text x="1149" y="2883" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">PaintContentsToDIsplayList()</text></switch></g><rect x="669" y="1589" width="240" height="40" rx="6" ry="6" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1609px; margin-left: 670px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::HostFrameSinkClient<br />cc::LayerTreeHostSingleThreadClient</div></div></div></foreignObject><text x="789" y="1613" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::HostFrameSinkClient...</text></switch></g><path d="M 341.01 1029 L 275.37 1029" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 348.01 1029 L 344.51 1031.06 L 341.01 1029 L 344.51 1026.94 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 270.12 1029 L 277.12 1025.5 L 275.37 1029 L 277.12 1032.5 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 469 1076.99 L 469 1102.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469 1069.99 L 471.06 1073.49 L 469 1076.99 L 466.94 1073.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 469 1107.88 L 465.5 1100.88 L 469 1102.63 L 472.5 1100.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1089px; margin-left: 469px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1:n</div></div></div></foreignObject><text x="469" y="1092" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">1:n</text></switch></g><path d="M 341.01 1048.97 L 309.14 1048.86 L 309.14 1168.86 L 275.37 1168.98" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 348.01 1049 L 344.51 1051.04 L 341.01 1048.97 L 344.52 1046.93 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 270.12 1169 L 277.11 1165.47 L 275.37 1168.98 L 277.13 1172.47 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1109px; margin-left: 309px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1:n</div></div></div></foreignObject><text x="309" y="1112" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">1:n</text></switch></g><rect x="349" y="989" width="240" height="80" rx="12" ry="12" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1029px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::CompositorFrame<br />render_pass_list:RenderPassList<br />resource_list:TransferableResource<br />metadata:CompositorFrameMetadata<br />记录某一区域的一帧画面及相关资源</div></div></div></foreignObject><text x="469" y="1033" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::CompositorFrame...</text></switch></g><path d="M 149 1236.99 L 149 1262.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 149 1229.99 L 151.06 1233.49 L 149 1236.99 L 146.94 1233.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 149 1267.88 L 145.5 1260.88 L 149 1262.63 L 152.5 1260.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="29" y="1109" width="240" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1169px; margin-left: 30px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::TransferableResource<br />static MakeGL/Software()<br />id:ResourceId<br />mailbox_holder:gpu::MailboxHolder<br />表示一个可传输的资源</div></div></div></foreignObject><text x="149" y="1173" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::TransferableResource...</text></switch></g><path d="M 469 1236.99 L 469 1262.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469 1229.99 L 471.06 1233.49 L 469 1236.99 L 466.94 1233.49 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><path d="M 469 1267.88 L 465.5 1260.88 L 469 1262.63 L 472.5 1260.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1249px; margin-left: 469px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; background-color: #ffffff; white-space: nowrap; ">1:n</div></div></div></foreignObject><text x="469" y="1252" fill="#000000" font-family="Helvetica" font-size="11px" text-anchor="middle">1:n</text></switch></g><rect x="349" y="1109" width="240" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1169px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::RenderPass<br />static Create()<br />CreateAndAppendDrawQuad()<br />id:RenderPassId<br />copy_requests:CopyOutputRequest<br />quad_list:QuadList<br />记录一组绘制操作</div></div></div></foreignObject><text x="469" y="1173" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::RenderPass...</text></switch></g><rect x="29" y="989" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1029px; margin-left: 30px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::CompositorFrameMetadata<br />device_scale_factor:float<br />latency_info:ui::LatencyInfo<br />referenced_surfaces:SurfaceRange<br />begin_frame_ack:BeginFrameAck<br />记录CF相关的元数据</div></div></div></foreignObject><text x="149" y="1033" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::CompositorFrameMetadata...</text></switch></g><rect x="349" y="1269" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1309px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::DrawQuad<br />material:Material<br />resources:Resources 引用到的资源<br />记录一个绘制操作</div></div></div></foreignObject><text x="469" y="1313" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::DrawQuad...</text></switch></g><path d="M 469 1389 L 469 1357.12" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 469 1350.12 L 472.5 1357.12 L 465.5 1357.12 Z" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="all"/><rect x="349" y="1389" width="240" height="120" rx="18" ry="18" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1449px; margin-left: 350px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">viz::ContentDrawQuadBase<br />viz::RenderPassDrawQuad<br />viz::SolidColorDrawQuad<br />viz::StreamVideoDrawQuad<br />viz::SurfaceDrawQuad<br />viz::TextureDrawQuad<br />viz::VideoHoleDrawQuad<br />viz::YUVVideoDrawQuad</div></div></div></foreignObject><text x="469" y="1453" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">viz::ContentDrawQuadBase...</text></switch></g><rect x="29" y="1269" width="240" height="80" rx="12" ry="12" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 238px; height: 1px; padding-top: 1309px; margin-left: 30px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; ">gpu::MailboxHolder<br />mailbox:Mailbox 资源的名字，唯一标识资源<br />sync_token:SyncToken<br />texture_target:uint32_t<br />引用一个具体的资源</div></div></div></foreignObject><text x="149" y="1313" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">gpu::MailboxHolder...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>